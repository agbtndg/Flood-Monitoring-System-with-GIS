# System Activities - Technical Architecture

## ğŸ“ System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE LAYER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Quick Filters   â”‚  â”‚   Search    â”‚  â”‚  Advanced Filters      â”‚ â”‚
â”‚  â”‚ â€¢ Last 7 Days    â”‚  â”‚   Box       â”‚  â”‚ â€¢ Staff Dropdown       â”‚ â”‚
â”‚  â”‚ â€¢ Last 30 Days âœ“ â”‚  â”‚             â”‚  â”‚ â€¢ Specific Date        â”‚ â”‚
â”‚  â”‚ â€¢ Last 90 Days   â”‚  â”‚             â”‚  â”‚ â€¢ Date From/To         â”‚ â”‚
â”‚  â”‚ â€¢ All Time       â”‚  â”‚             â”‚  â”‚ â€¢ Sort Order           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚             Active Filters Display (Badges)                   â”‚   â”‚
â”‚  â”‚  [Last 30 Days] [Staff: Juan âœ•] [Search: "Hawaiian" âœ•]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Statistics Cards                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  145   â”‚  â”‚   89   â”‚  â”‚   67   â”‚  â”‚   23   â”‚  â”‚  456   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚of 523  â”‚  â”‚of 234  â”‚  â”‚of 180  â”‚  â”‚of 45   â”‚  â”‚of 1234 â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          Tabs                                 â”‚   â”‚
â”‚  â”‚  [Assessments] [Reports] [Certificates] [Floods] [Logs]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Tab Content                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Export Buttons â”‚  â”‚     Items Per Page Selector         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ CSV          â”‚  â”‚     Show: [25 â–¼] per page           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ PDF          â”‚  â”‚                                      â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚              Activity Cards (Paginated)                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Card 1: Assessment for Brgy. E. Lopez               â”‚â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Card 2: Certificate for ABC Store                   â”‚â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ... (up to per_page items)                              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚            Pagination Controls                           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  [First] [Prev] [1] [2] [3] [Next] [Last]              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Page 2 of 6 (145 records, filtered from 523)          â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â†•
                              HTTP GET/POST

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BACKEND LAYER (Django)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   all_activities() View                       â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  1. Parse Query Parameters                                   â”‚   â”‚
â”‚  â”‚     â€¢ date_range, date_from, date_to, filter_date           â”‚   â”‚
â”‚  â”‚     â€¢ search_query, filter_user                             â”‚   â”‚
â”‚  â”‚     â€¢ sort_order, per_page, active_tab                       â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  2. Apply Default (30-day view if no filters)               â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  3. Build QuerySets                                          â”‚   â”‚
â”‚  â”‚     â€¢ AssessmentRecord.objects.all()                         â”‚   â”‚
â”‚  â”‚     â€¢ ReportRecord.objects.all()                             â”‚   â”‚
â”‚  â”‚     â€¢ CertificateRecord.objects.all()                        â”‚   â”‚
â”‚  â”‚     â€¢ FloodRecordActivity.objects.all()                      â”‚   â”‚
â”‚  â”‚     â€¢ UserLog.objects.all()                                  â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  4. Apply Filters Sequentially                              â”‚   â”‚
â”‚  â”‚     â”œâ”€ Date Range Filter (timedelta)                        â”‚   â”‚
â”‚  â”‚     â”œâ”€ Custom Date Range (date_from/date_to)               â”‚   â”‚
â”‚  â”‚     â”œâ”€ Staff Filter (user__id)                              â”‚   â”‚
â”‚  â”‚     â”œâ”€ Specific Date Filter (timestamp__date)              â”‚   â”‚
â”‚  â”‚     â””â”€ Search Filter (Q objects, multi-field)               â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  5. Apply Sorting                                            â”‚   â”‚
â”‚  â”‚     â€¢ order_by('timestamp') or order_by('-timestamp')       â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  6. Count Records                                            â”‚   â”‚
â”‚  â”‚     â€¢ total_assessments = assessments.count()               â”‚   â”‚
â”‚  â”‚     â€¢ unfiltered_assessments = AssessmentRecord.objects...  â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  7. Apply Pagination                                         â”‚   â”‚
â”‚  â”‚     â€¢ Paginator(queryset, per_page)                          â”‚   â”‚
â”‚  â”‚     â€¢ paginator.get_page(page_number)                       â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  8. Build Context Dictionary                                â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  9. Render Template                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â†•
                           SQL QUERIES (ORM)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE LAYER (PostgreSQL/SQLite)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ maps_assessmentrecordâ”‚  â”‚ maps_reportrecord    â”‚                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚  â”‚ â€¢ id (PK)            â”‚  â”‚ â€¢ id (PK)            â”‚                 â”‚
â”‚  â”‚ â€¢ user_id (FK)       â”‚  â”‚ â€¢ user_id (FK)       â”‚                 â”‚
â”‚  â”‚ â€¢ barangay           â”‚  â”‚ â€¢ barangay           â”‚                 â”‚
â”‚  â”‚ â€¢ latitude           â”‚  â”‚ â€¢ latitude           â”‚                 â”‚
â”‚  â”‚ â€¢ longitude          â”‚  â”‚ â€¢ longitude          â”‚                 â”‚
â”‚  â”‚ â€¢ flood_risk_code    â”‚  â”‚ â€¢ flood_risk_code    â”‚                 â”‚
â”‚  â”‚ â€¢ flood_risk_desc    â”‚  â”‚ â€¢ flood_risk_label   â”‚                 â”‚
â”‚  â”‚ â€¢ timestamp âš¡       â”‚  â”‚ â€¢ timestamp âš¡       â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ maps_certificaterecord  â”‚  â”‚ maps_floodrecordactivity â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ â€¢ id (PK)               â”‚  â”‚ â€¢ id (PK)                â”‚          â”‚
â”‚  â”‚ â€¢ user_id (FK)          â”‚  â”‚ â€¢ user_id (FK)           â”‚          â”‚
â”‚  â”‚ â€¢ establishment_name    â”‚  â”‚ â€¢ action                 â”‚          â”‚
â”‚  â”‚ â€¢ owner_name            â”‚  â”‚ â€¢ event_type             â”‚          â”‚
â”‚  â”‚ â€¢ location              â”‚  â”‚ â€¢ event_date             â”‚          â”‚
â”‚  â”‚ â€¢ barangay              â”‚  â”‚ â€¢ affected_barangays     â”‚          â”‚
â”‚  â”‚ â€¢ flood_susceptibility  â”‚  â”‚ â€¢ casualties_*           â”‚          â”‚
â”‚  â”‚ â€¢ zone_status           â”‚  â”‚ â€¢ affected_*             â”‚          â”‚
â”‚  â”‚ â€¢ timestamp âš¡          â”‚  â”‚ â€¢ timestamp âš¡           â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ users_userlog        â”‚                                            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚  â”‚ â€¢ id (PK)            â”‚                                            â”‚
â”‚  â”‚ â€¢ user_id (FK)       â”‚                                            â”‚
â”‚  â”‚ â€¢ action             â”‚                                            â”‚
â”‚  â”‚ â€¢ timestamp âš¡       â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                       â”‚
â”‚  âš¡ = Indexed fields for fast queries                                â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USER     â”‚
â”‚  Clicks    â”‚
â”‚"Last 30    â”‚
â”‚  Days"     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        JavaScript (Frontend)                    â”‚
â”‚  applyQuickFilter('30')                        â”‚
â”‚  â€¢ Build URL with parameters                   â”‚
â”‚  â€¢ Set date_range=30                           â”‚
â”‚  â€¢ Keep current tab                            â”‚
â”‚  â€¢ Reset pagination to page 1                  â”‚
â”‚  â€¢ window.location.search = newParams          â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“ HTTP GET Request
      â”‚ ?tab=assessments&date_range=30
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Django View (Backend)                    â”‚
â”‚  all_activities(request)                       â”‚
â”‚                                                â”‚
â”‚  1. date_range = request.GET.get('date_range') â”‚
â”‚     â†’ '30'                                     â”‚
â”‚                                                â”‚
â”‚  2. start_date = datetime.now() - timedelta(30)â”‚
â”‚     â†’ 2025-10-22                               â”‚
â”‚                                                â”‚
â”‚  3. assessments = AssessmentRecord             â”‚
â”‚      .objects.filter(timestamp__gte=start_date)â”‚
â”‚      .order_by('-timestamp')                   â”‚
â”‚                                                â”‚
â”‚  4. Apply to all QuerySets                     â”‚
â”‚     â€¢ reports                                  â”‚
â”‚     â€¢ certificates                             â”‚
â”‚     â€¢ flood_activities                         â”‚
â”‚     â€¢ user_logs                                â”‚
â”‚                                                â”‚
â”‚  5. total_assessments = assessments.count()    â”‚
â”‚     â†’ 145 records                              â”‚
â”‚                                                â”‚
â”‚  6. paginator = Paginator(assessments, 25)     â”‚
â”‚     page_obj = paginator.get_page(1)           â”‚
â”‚                                                â”‚
â”‚  7. context = {                                â”‚
â”‚       'assessments': page_obj,                 â”‚
â”‚       'date_range': '30',                      â”‚
â”‚       'total_assessments': 145,                â”‚
â”‚       'unfiltered_assessments': 523,           â”‚
â”‚       ...                                      â”‚
â”‚     }                                          â”‚
â”‚                                                â”‚
â”‚  8. return render(template, context)           â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“ SQL Queries
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Database Query Execution                 â”‚
â”‚                                                â”‚
â”‚  SELECT * FROM maps_assessmentrecord           â”‚
â”‚  WHERE timestamp >= '2025-10-22 00:00:00'      â”‚
â”‚  ORDER BY timestamp DESC                       â”‚
â”‚  LIMIT 25 OFFSET 0;                            â”‚
â”‚                                                â”‚
â”‚  Result: 145 matching records â†’ Return first 25â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“ Query Results
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Template Rendering                       â”‚
â”‚  all_activities.html                           â”‚
â”‚                                                â”‚
â”‚  {% for assessment in assessments %}           â”‚
â”‚    <div class="activity-card">                 â”‚
â”‚      {{ assessment.barangay }}                 â”‚
â”‚      {{ assessment.timestamp }}                â”‚
â”‚      ...                                       â”‚
â”‚    </div>                                      â”‚
â”‚  {% endfor %}                                  â”‚
â”‚                                                â”‚
â”‚  â€¢ Quick filter buttons (30 highlighted)       â”‚
â”‚  â€¢ Active filters badge shown                  â”‚
â”‚  â€¢ Stats: "145 of 523 total"                   â”‚
â”‚  â€¢ Pagination: "Page 1 of 6"                   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“ HTML Response
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Browser Renders Page                     â”‚
â”‚                                                â”‚
â”‚  â€¢ Shows filtered results (last 30 days)       â”‚
â”‚  â€¢ "Last 30 Days" button highlighted           â”‚
â”‚  â€¢ Statistics updated                          â”‚
â”‚  â€¢ Pagination controls ready                   â”‚
â”‚  â€¢ User can interact with page                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Search Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USER     â”‚
â”‚  Types     â”‚
â”‚"Hawaiian"  â”‚
â”‚& presses   â”‚
â”‚  Enter     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        JavaScript Event Handler                 â”‚
â”‚  document.getElementById('search_input')       â”‚
â”‚    .addEventListener('keypress', ...)          â”‚
â”‚                                                â”‚
â”‚  if (e.key === 'Enter') {                      â”‚
â”‚    applySearch();                              â”‚
â”‚  }                                             â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        applySearch() Function                   â”‚
â”‚  const searchValue = 'Hawaiian';               â”‚
â”‚  urlParams.set('search', searchValue);         â”‚
â”‚  window.location.search = urlParams;           â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“ HTTP GET
      â”‚ ?tab=certificates&search=Hawaiian
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Django View Processing                   â”‚
â”‚                                                â”‚
â”‚  search_query = request.GET.get('search')      â”‚
â”‚  â†’ 'Hawaiian'                                  â”‚
â”‚                                                â”‚
â”‚  if search_query:                              â”‚
â”‚    certificates = certificates.filter(         â”‚
â”‚      Q(establishment_name__icontains=search) | â”‚
â”‚      Q(owner_name__icontains=search) |         â”‚
â”‚      Q(barangay__icontains=search) |           â”‚
â”‚      Q(location__icontains=search) |           â”‚
â”‚      Q(user__username__icontains=search) |     â”‚
â”‚      Q(user__first_name__icontains=search) |   â”‚
â”‚      Q(user__last_name__icontains=search)      â”‚
â”‚    )                                           â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“ ORM â†’ SQL
      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        SQL Query Generation                     â”‚
â”‚                                                â”‚
â”‚  SELECT * FROM maps_certificaterecord          â”‚
â”‚  INNER JOIN users_customuser                   â”‚
â”‚    ON maps_certificaterecord.user_id = ...     â”‚
â”‚  WHERE                                         â”‚
â”‚    establishment_name ILIKE '%Hawaiian%' OR    â”‚
â”‚    owner_name ILIKE '%Hawaiian%' OR            â”‚
â”‚    barangay ILIKE '%Hawaiian%' OR              â”‚
â”‚    location ILIKE '%Hawaiian%' OR              â”‚
â”‚    users_customuser.username ILIKE '%Hawaiian%'â”‚
â”‚  ORDER BY timestamp DESC;                      â”‚
â”‚                                                â”‚
â”‚  Result: Matching certificates                 â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Results Display                          â”‚
â”‚  â€¢ Search badge shown: [Search: "Hawaiian" âœ•]  â”‚
â”‚  â€¢ Matching records displayed                  â”‚
â”‚  â€¢ Can combine with other filters              â”‚
â”‚  â€¢ Export includes search results only         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Filter Combination Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Filter Application Order                        â”‚
â”‚                                                              â”‚
â”‚  Initial QuerySet                                            â”‚
â”‚  â†“                                                           â”‚
â”‚  AssessmentRecord.objects.all()                             â”‚
â”‚  â†’ All 523 records                                          â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Date Range Filter (if date_range set)                   â”‚
â”‚  â†“                                                           â”‚
â”‚  .filter(timestamp__gte=start_date)                         â”‚
â”‚  â†’ 145 records (last 30 days)                               â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. Custom Date Range (if date_from/date_to set)            â”‚
â”‚  â†“                                                           â”‚
â”‚  .filter(timestamp__date__gte=date_from)                    â”‚
â”‚  .filter(timestamp__date__lte=date_to)                      â”‚
â”‚  â†’ 78 records (Nov 1-15)                                    â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. Staff Filter (if filter_user set)                       â”‚
â”‚  â†“                                                           â”‚
â”‚  .filter(user__id=filter_user)                              â”‚
â”‚  â†’ 23 records (Juan's assessments)                          â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. Specific Date (if filter_date set)                      â”‚
â”‚  â†“                                                           â”‚
â”‚  .filter(timestamp__date=filter_date)                       â”‚
â”‚  â†’ 8 records (Nov 20 only)                                  â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. Search Filter (if search_query set)                     â”‚
â”‚  â†“                                                           â”‚
â”‚  .filter(Q(...) | Q(...) | ...)                             â”‚
â”‚  â†’ 3 records (containing "Hawaiian")                        â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  6. Ordering                                                 â”‚
â”‚  â†“                                                           â”‚
â”‚  .order_by('-timestamp')                                    â”‚
â”‚  â†’ 3 records (recent first)                                 â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  7. Pagination                                               â”‚
â”‚  â†“                                                           â”‚
â”‚  Paginator(queryset, 25).get_page(1)                        â”‚
â”‚  â†’ First 3 records (all on page 1)                          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Final Result: 3 assessments matching all criteria
- Last 30 days
- Nov 1-15
- By Juan
- On Nov 20
- Containing "Hawaiian"
```

---

## ğŸ“Š Performance Optimization Strategies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Performance Optimizations                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. DATABASE INDEXES
   ==================
   CREATE INDEX idx_assessment_timestamp 
     ON maps_assessmentrecord(timestamp);
   
   â†’ Speeds up date-based queries by 10-100x

2. QUERY OPTIMIZATION
   ===================
   â€¢ .select_related('user')  â†’ Reduces queries from N+1 to 2
   â€¢ .only('field1', 'field2') â†’ Fetches only needed fields
   â€¢ .count() before pagination â†’ Efficient counting

3. DEFAULT FILTERING
   ==================
   if not any_filters:
       date_range = '30'  # Default to last 30 days
   
   â†’ Prevents loading entire dataset initially
   â†’ ~70% reduction in initial query size

4. PAGINATION
   ============
   paginator = Paginator(queryset, per_page)
   
   â†’ Only renders current page
   â†’ Database LIMIT/OFFSET optimization
   â†’ Reduces memory usage

5. LAZY EVALUATION
   ================
   Django QuerySets don't execute until needed:
   
   assessments = AssessmentRecord.objects.all()  # Not executed
   assessments = assessments.filter(...)         # Still not executed
   for a in assessments:                          # NOW executed
   
   â†’ Combines all filters into single SQL query

6. COUNT OPTIMIZATION
   ===================
   total = assessments.count()           # SELECT COUNT(*)
   unfiltered = AssessmentRecord        # SELECT COUNT(*)
                 .objects.count()
   
   â†’ Two separate, optimized count queries

7. TEMPLATE CACHING
   ================
   {% load cache %}
   {% cache 300 activity_stats user.id %}
     ... statistics cards ...
   {% endcache %}
   
   â†’ Cache rarely-changing elements

8. STATIC ASSET OPTIMIZATION
   =========================
   â€¢ CSS/JS minification
   â€¢ Browser caching headers
   â€¢ CDN for FontAwesome icons
```

---

## ğŸ” Security Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Security Measures                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. AUTHENTICATION
   ===============
   @login_required decorator ensures only authenticated users

2. AUTHORIZATION
   ==============
   if not request.user.is_staff:
       raise PermissionDenied
   
   â†’ Only staff can view all activities

3. SQL INJECTION PREVENTION
   ========================
   Django ORM parameterizes all queries:
   
   .filter(barangay=user_input)  âœ“ Safe
   
   NOT:
   raw_sql = f"WHERE barangay='{user_input}'"  âœ— Vulnerable

4. XSS PREVENTION
   ==============
   Template auto-escaping:
   
   {{ search_query }}  â†’ Automatically escaped
   {{ search_query|safe }}  â†’ Only if trusted

5. CSRF PROTECTION
   ===============
   {% csrf_token %} in all forms
   Django validates on POST

6. MASS ASSIGNMENT PROTECTION
   ==========================
   Only specific GET parameters processed
   Unexpected params ignored

7. INFORMATION DISCLOSURE
   ======================
   â€¢ No raw errors shown to users
   â€¢ Pagination limits max records per page
   â€¢ Export respects same filters/permissions
```

---

## ğŸš€ Scalability Analysis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Scalability Metrics                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RECORD COUNT vs PERFORMANCE
===========================

Records    | Load Time | Memory  | Strategy
-----------|-----------|---------|---------------------------
< 1,000    | < 1s      | < 10MB  | Any filter works fine
1K - 10K   | 1-3s      | 10-50MB | Date filters recommended
10K - 100K | 3-10s     | 50-200MB| Date filters essential
100K - 1M  | 5-30s     | 200MB+  | Archive old data
> 1M       | Slow      | High    | Implement archiving

WITH 30-DAY DEFAULT:
===================
â€¢ Reduces typical query from 100K to 3K records
â€¢ ~97% reduction in data processed
â€¢ Consistent performance as database grows

GROWTH PROJECTIONS:
==================
Assuming 50 activities/day:

Year 1:  18,250 records  â†’ Fast with 30-day filter
Year 5:  91,250 records  â†’ Still fast with 30-day filter  
Year 10: 182,500 records â†’ Still fast with 30-day filter
Year 20: 365,000 records â†’ Consider archiving old data

BOTTLENECKS:
===========
1. Database size growth â†’ Solved by filtering
2. Initial page load â†’ Solved by 30-day default
3. "All Time" queries â†’ Mitigated by pagination
4. Export large datasets â†’ Limited by filter scope

FUTURE ENHANCEMENTS:
===================
1. Archive records > 2 years old
2. Implement database partitioning by year
3. Add caching layer (Redis/Memcached)
4. Background job for large exports
```

---

## ğŸ§ª Testing Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Testing Checklist                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

UNIT TESTS (views.py)
=====================
âœ“ test_default_30_day_filter()
âœ“ test_date_range_quick_filters()
âœ“ test_custom_date_range()
âœ“ test_search_functionality()
âœ“ test_staff_filter()
âœ“ test_combined_filters()
âœ“ test_pagination()
âœ“ test_per_page_options()
âœ“ test_sorting_options()
âœ“ test_export_with_filters()

INTEGRATION TESTS
================
âœ“ test_filter_persistence_across_pages()
âœ“ test_filter_application_order()
âœ“ test_tab_switching_maintains_filters()
âœ“ test_export_matches_displayed_data()

UI TESTS (Selenium/Playwright)
==============================
âœ“ test_quick_filter_buttons_clickable()
âœ“ test_search_on_enter_key()
âœ“ test_filter_badge_removal()
âœ“ test_per_page_selector_changes()
âœ“ test_pagination_navigation()
âœ“ test_mobile_responsive_layout()

PERFORMANCE TESTS
=================
âœ“ test_load_time_with_1000_records()
âœ“ test_load_time_with_10000_records()
âœ“ test_search_performance()
âœ“ test_pagination_performance()
âœ“ test_export_large_dataset()

SECURITY TESTS
==============
âœ“ test_non_staff_cannot_access()
âœ“ test_sql_injection_in_search()
âœ“ test_xss_in_search_query()
âœ“ test_csrf_token_required()
```

---

**This architecture provides a solid foundation for scalable, performant, and secure activity tracking!** ğŸ—ï¸
